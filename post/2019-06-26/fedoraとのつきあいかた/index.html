<!DOCTYPE html>
<html
  class=""
  lang="ja-jp"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="keywords" content="">


<meta property="og:type" content="article" />
<meta property="og:description" content="" />
<meta property="og:title" content="Fedoraとのつきあいかた" />
<meta property="og:site_name" content="Constellation" />
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://squeuei.github.io/post/2019-06-26/fedora%E3%81%A8%E3%81%AE%E3%81%A4%E3%81%8D%E3%81%82%E3%81%84%E3%81%8B%E3%81%9F/" />
<meta property="og:locale" content="ja-jp" />
<meta property="article:published_time" content="2019-06-26
" /> <meta property="article:modified_time" content="2019-06-26
" />




<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@squeuei" />
<meta name="twitter:creator" content="@squeuei" />
<meta
  name="twitter:title"
  content="Fedoraとのつきあいかた | Constellation"
/>
<meta
  name="twitter:description"
  content="ふと思い立ってOpenBSDを使ってみようとして、案外すんなり動作することに驚きつつも、ドライバーがなかったり、サスペンドから復帰できなかったりと、いまいちうまく行かないなあなんて思っているうちに、デュアルブートにしていたThinkpadのWindows領域をddで吹っ飛ばしたりしましたが元気です。データ上書きされたのは最初の500MB位だったのでtestdiskを使ってNTFSのパーティションを復旧してデータ救出するところまではできました。
OpenBSDは設定ファイルが明快だったり、manの品質が高かったりして、結構好印象でした。なのでまた何らかしらのマシンでチャレンジしたいですね。HP Elitebook 820 G1でOpenBSDをブートする時画面が乱れる問題の対策としてはmachine gopオプションを変えるとうまくいきます。
そんなこんなでE7270にFedora 30をインストールします。なんで！？ インストールはめちゃくちゃ簡単だし、debianと違ってfirmwareはバイナリブロブであってもゆるすポリシーなので最初からWi-Fiが使えます。
問題があるとすると、日本語入力でしょうか。FedoraのIMEはibus-kkcが標準です。libkkc、比較的新しくていいんですが、既にメンテナンスが放置モードっぽいのがちょっと不安。kkcのつらいところに、スペースを打っても全角スペース（U&#43;3000 Ideographic Space）にならないところと、ltuで「っ」が入力できないことの二つが挙げられます。この問題に対する解決方法としては、些か乱暴ですが/usr/share/libkkc/rules/default/rom-kana/default.jsonを編集してしまうというものがあります。具体的には
... &quot;z_&quot;: [&quot;&quot;, &quot;　&quot;], &quot;ltu&quot;:[&quot;&quot;, &quot;っ&quot;], &quot;vyu&quot;:[&quot;&quot;, &quot;う゛ゅ&quot;] ...  などとします。Lを打つと全角スペースが出て来るのは変な感じですが、少なくとも「くうはく」と打って変換するよりは気が楽かなと。 ただし、Firefox上でDiscordやTweetdeckを使うと入力モード切り替え直後の一文字が直接入力になってしまうという症状に悩まされたのでさっさとfcitx-kkcにしてしまいした。DEがXfceだからできる技、というわけでもないか。辞書はibus-kkcじゃないと編集できない気がするので、~/.config/fcitx/kkc/dictionary/のファイルを直接いじってしまうのが手っ取り早いかも。 mozc、ibus-mozcはモード切り替え直後が直接入力だったり、fcitx-mozcやmozc自体のパッケージが用意されてないディストリビューションやアーキテクチャがあったりと、なんだかんだで万能ではないので、更新終了して久しいanthyに代わってどうにか使えるようになっていってほしいところです。
あとは何かあったっけ。ああ、環境変数は~/.bash_profileに書くっぽいですね。rcloneを使うと不自由で邪悪なバイナリブロブを使わずにdropboxのファイル同期ができるので自由ソフトウェアの革命闘士ごっこが捗りますが、そもそもファームウェアが入ってしまっている以上は微妙ですね。RPMfusionからffmpegとかいれたりもしますし。
とりあえずそんな感じで使っていってみようと思いますはい。
2019-08-27更新 DEをGNOMEに変えました。Fedoraの開発は今後WaylandやPipewireなどでますますGNOMEと深く結びついていくっぽいです。なので、Fedoraを使うならGNOMEが一級市民かな、という気持ちになっています。他のDE使いたいならUbuntu系列やDebianやArchに行くのがいいのではないか。|"
/>
<meta name="twitter:image:src" content="" />
<meta name="twitter:domain" content="https://squeuei.github.io/post/2019-06-26/fedora%E3%81%A8%E3%81%AE%E3%81%A4%E3%81%8D%E3%81%82%E3%81%84%E3%81%8B%E3%81%9F/" />



    <title>Fedoraとのつきあいかた</title>
    <link rel="canonical" href="https://squeuei.github.io/post/2019-06-26/fedora%E3%81%A8%E3%81%AE%E3%81%A4%E3%81%8D%E3%81%82%E3%81%84%E3%81%8B%E3%81%9F/" />


    <link
  rel="stylesheet"
  href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"
/>

<link rel="stylesheet" href="https://squeuei.github.iocss/style.css" />

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css"
/>


<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	if (window.sessionStorage) {
		var GA_SESSION_STORAGE_KEY = 'ga:clientId';
		ga('create', 'G-N32N2YD1GB', {
	    'storage': 'none',
	    'clientId': sessionStorage.getItem(GA_SESSION_STORAGE_KEY)
	   });
	   ga(function(tracker) {
	    sessionStorage.setItem(GA_SESSION_STORAGE_KEY, tracker.get('clientId'));
	   });
   }
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>


<body
  lang="ja-jp"
  class="sans-serif w-90 w-80-m w-60-ns center mv2 mv5-ns"
  itemscope
  itemtype="http://schema.org/Article"
>
  
  <span class="b">/ </span>
  <a href="https://squeuei.github.io" class="b bb bw1 pb1 no-underline black">Constellation</a>
  <span class="b"> / </span>
  <a href="/post" class="b bb bw1 pb1 no-underline black">blog</a>

  <section id="main" class="mt5">
    <h1 itemprop="name" id="title">Fedoraとのつきあいかた</h1>
    <span class="f6 gray">June 26, 2019</span>

      <article itemprop="articleBody" id="content" class="w-90 lh-copy">
        <p>ふと思い立ってOpenBSDを使ってみようとして、案外すんなり動作することに驚きつつも、ドライバーがなかったり、サスペンドから復帰できなかったりと、いまいちうまく行かないなあなんて思っているうちに、デュアルブートにしていたThinkpadのWindows領域を<code>dd</code>で吹っ飛ばしたりしましたが元気です。データ上書きされたのは最初の500MB位だったので<code>testdisk</code>を使ってNTFSのパーティションを復旧してデータ救出するところまではできました。</p>
<p>OpenBSDは設定ファイルが明快だったり、manの品質が高かったりして、結構好印象でした。なのでまた何らかしらのマシンでチャレンジしたいですね。HP Elitebook 820 G1でOpenBSDをブートする時画面が乱れる問題の対策としては<code>machine gop</code>オプションを変えるとうまくいきます。</p>
<p>そんなこんなでE7270にFedora 30をインストールします。なんで！？
インストールはめちゃくちゃ簡単だし、debianと違ってfirmwareはバイナリブロブであってもゆるすポリシーなので最初からWi-Fiが使えます。</p>
<p>問題があるとすると、日本語入力でしょうか。FedoraのIMEはibus-kkcが標準です。libkkc、比較的新しくていいんですが、既にメンテナンスが放置モードっぽいのがちょっと不安。kkcのつらいところに、スペースを打っても全角スペース（U+3000 Ideographic Space）にならないところと、ltuで「っ」が入力できないことの二つが挙げられます。この問題に対する解決方法としては、些か乱暴ですが<code>/usr/share/libkkc/rules/default/rom-kana/default.json</code>を編集してしまうというものがあります。具体的には</p>
<pre><code>...
&quot;z_&quot;: [&quot;&quot;, &quot;　&quot;],
&quot;ltu&quot;:[&quot;&quot;, &quot;っ&quot;],
&quot;vyu&quot;:[&quot;&quot;, &quot;う゛ゅ&quot;]
...
</code></pre>
<p>などとします。<s>Lを打つと全角スペースが出て来るのは変な感じですが、少なくとも「くうはく」と打って変換するよりは気が楽かなと。</s>
ただし、Firefox上でDiscordやTweetdeckを使うと入力モード切り替え直後の一文字が直接入力になってしまうという症状に悩まされたのでさっさとfcitx-kkcにしてしまいした。DEがXfceだからできる技、というわけでもないか。辞書はibus-kkcじゃないと編集できない気がするので、<code>~/.config/fcitx/kkc/dictionary/</code>のファイルを直接いじってしまうのが手っ取り早いかも。
mozc、ibus-mozcはモード切り替え直後が直接入力だったり、fcitx-mozcやmozc自体のパッケージが用意されてないディストリビューションやアーキテクチャがあったりと、なんだかんだで万能ではないので、更新終了して久しいanthyに代わってどうにか使えるようになっていってほしいところです。</p>
<p>あとは何かあったっけ。ああ、環境変数は<code>~/.bash_profile</code>に書くっぽいですね。<code>rclone</code>を使うと不自由で邪悪なバイナリブロブを使わずにdropboxのファイル同期ができるので自由ソフトウェアの革命闘士ごっこが捗りますが、そもそもファームウェアが入ってしまっている以上は微妙ですね。RPMfusionからffmpegとかいれたりもしますし。</p>
<p>とりあえずそんな感じで使っていってみようと思いますはい。</p>
<h3 id="2019-08-27更新">2019-08-27更新</h3>
<p>DEをGNOMEに変えました。Fedoraの開発は今後WaylandやPipewireなどでますますGNOMEと深く結びついていくっぽいです。なので、Fedoraを使うならGNOMEが一級市民かな、という気持ちになっています。他のDE使いたいならUbuntu系列やDebianやArchに行くのがいいのではないか。</p>

      </article>

      
      <span class="f6 gray mv3" title="Lastmod: June 26, 2019. Published at: 2019-06-26.">
        
      </span>

      

  </section>

  <footer>
    <div>
      <p class="f6 gray mt6 lh-copy">
        
      </p>
    </div>
  </footer>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>

<script>
  hljs.initHighlightingOnLoad();
</script>



  </body>
</html>
