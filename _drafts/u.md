---
title: "Terramaster F2-221で作るNAS"
date: 2024-09-01 +09:00
---

大昔にハードオフで拾ったTerramaster F2-221でNASを作った。

実のところこの部屋ではすでにSynologyの4-bay NASが稼働しており、三年以上に渡り安定して動作している。そんな中でなぜわざわざもう一台NASをセットアップする必要があったのか。

答え：ない。

というわけで、軽率かつ安易に手に入れてしまったガジェットをどうにか活用すべく、余剰パーツや中古パーツを、社外品を組み合わせて稼働までこぎつけた。

## 本体：Terramaster F2-221

本来は2-bayのNASキットだが、実質的にamd64のPCであり、ケースを加工することでHDMI出力も利用できる。手元にある個体は入手時点ですでに加工済みだった。CPUはIntel Celeron J3355。Apollo Lake世代の2C/2Tで、性能はお察し。どのみち性能を追求するような使い方はしないので問題なし。EthernetはGbEが2ポート。1つはPCIe接続、もう一つはUSB接続で、どちらもRealtek製。

HDDを搭載した状態で初回起動すると内部のUSBストレージから自動で専用OSがインストールされる、らしいが使ったことがないのでわからない。

## 電源：秋月のACアダプタ

純正が12V、3.33Aの40W品らしいので、大体の数字を合わせて12V、3AのACアダプタを秋月で購入した。なおジャックの内径が異なり変換アダプタが必要なため、同時に購入することを勧める。

## Storage

同一ストレージデヴァイスを2台搭載し、RAID運用するのが王道構成であろうが、手持ちに御誂え向きなドライブがなかったため、システム用のSSD+ストレージ用のHDDの構成とした。実験用なのでこれでよし。

同一デヴァイスが2台用意できるなら、USB3.0ポートを一つ犠牲にし、USB-SATA変換経由でSSDへシステムをインストールするのも良いだろう。

### Bay 1：Elecom USB接続外付けSSD 256GBの中身



### Bay 2：東芝 USB接続外付けHDD 3TBの中身

余談であるが、
解体に酷く苦労した。誠実なものづくりと捉えるべきか、過剰品質と捉えるべきかは悩ましいところ。

## RAM：中古 DDR3 8GB

じゃんぱらで購入。容量が明らかに過剰だが、値段が大差ないので多めに積んでおく。これだけあれば最低RAM 8GBを要求するTrueNASでも対応できる。

## OS：OpenMediaVault



### Realtek RTL8111 Driver

r8168-dkmsを入れるのと、デフォルトのr8169を使うのとどっちがいいのかわからん。

サーバにコンパイル環境を入れるのも癪だが仕方あるまい。
